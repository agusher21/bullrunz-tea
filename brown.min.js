require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){(function(){module.exports=function(){return{opts:{token:"%s"},parseKey:function(k){return"<"+k+">%s</"+k+">"},parseValue:function(v){return v},parseDSL:function(json,data,str){var k,nk,nv,v;if(null==str&&(str=""),"object"==typeof json)for(k in json)v=json[k],nk=this.parseKey(k),nv=this.parse(v,data,""),str+=nk.replace(/%s/,nv);return"string"==typeof json&&(str+=this.parseValue(json,data)),null==str?json:str},parse:function(json,data){return this.parseDSL(json,data)}}}()}).call(this)},{}],2:[function(require,module){function frag(s){var arr=s.split("+"),ret=[];return _.each(arr,function(v,i){if(/\{\d+\}/.test(v))if(~v.indexOf("*")){v=v.split("*");for(var ss=_getPH(v[0]),sss="",m=0;m<v[1];m++)sss+=ss;ret[i]=sss}else ret[i]=_getPH(v);else ret[i]=_getFrag(v)}),ret}function _attrs(str){if(!str)return"";var arr,sid,clas=[],o={},s=[];return arr=str.match(/(\#[\w\-\d]+)|(\.[\w\-\d]+)|(\[[^\]]+\])/g),arr&&_.each(arr,function(me){"["===me.charAt(0)?s.push(me.replace(/\[|\]/g,"")):"."===me.charAt(0)&&void 0===o[me]?(clas.push(me.slice(1)),o[me]=!0):sid=sid||me.slice(1)}),sid&&s.push('id="'+sid+'"'),clas.length&&s.push('class="'+clas.join(" ")+'"'),s.join(" ")}function _tag(str,ph){if(!str)return"";if(/\<[^\>]+\>/.test(str))return str;if(/[\+\*\>\{]/.test(str))return _getFrag(str);var s,tag=str.match(/^[^\W]+/),attrs=_attrs(str);return attrs=attrs?" "+attrs:"",ph=ph||"&nbsp;",tag||(tag="div"),s="<"+tag+attrs+(/img|input|br|hr/i.test(tag)?" />":">"+ph+"</"+tag+">")}function _sibling(str){if(!str)return"";var arr=str.split("+"),s="";return _.each(arr,function(v){s+=_tag(v)}),s}function _repeat(str){if(!str)return"";for(var arr=str.split("*"),s="",i=0;i<(arr[1]||0);i++)s+=_tag(arr[0]);return s}function _stack(str){if(!str)return"";var arr=str.split(">"),s="&nbsp;";return _.each(arr,function(v){s=s.replace(/\&nbsp;/g,_tag(v))}),s}function _bracket(str,Zen){if(!str)return"";if(!/\([^\(\)]+\)/.test(str))return str;var arr=str.match(/\([^\(\)]+\)/g);return _.each(arr,function(f){var key="{"+Zen.fragIndex+"}";void 0===Zen.frags[f]&&(Zen.frags[key]=f.replace(/\(|\)/g,"")),str=str.split(f).join(key),Zen.fragIndex++}),/\([^\(\)]+\)/.test(str)?_bracket(str,Zen):str}function _getStack(str,Zen){if(!str)return"";if(str.indexOf(">")<0)return str;var reg=/[^\>\+]+\>[^\>]+$/,last=str.match(reg);if(last){var key="{"+Zen.fragIndex+"}",f=last[0];void 0===Zen.frags[f]&&(Zen.frags[key]=f),str=str.replace(reg,key),Zen.fragIndex++}return~str.indexOf(">")?_getStack(str,Zen):str}function _getFrag(str){return~str.indexOf(">")?_stack(str):~str.indexOf("+")?_sibling(str):~str.indexOf("*")?_repeat(str):str.indexOf("{")<0?_tag(str):str}function _getPH(str){var arr=str.split(/\{|\}/g),ret=[];return _.each(arr,function(v,i){if(v)if(isNaN(v))ret[i]=v;else{var ph=Zen.frags[v];ret[i]=ph?_getPH(ph):"{"+v+"}"}else ret[i]=""}),ret.join("")}var Zen={},_={each:function(obj,iteratee){var k,results,v;results=[];for(k in obj)v=obj[k],results.push(iteratee(v,k));return results}};module.exports=function(s){Zen.frags={},Zen.fragIndex=0;var _s;return _s=_bracket(s,Zen),_s=_getStack(_s,Zen),_.each(Zen.frags,function(r,k){/\{\d+\}/.test(k)&&(Zen.frags[k.replace(/\{|\}/g,"")]=_getFrag(r))}),frag(_s).join("").replace(/(\&nbsp;)|(\{\s+\})/g,"")}},{}],brown:[function(require,module,exports){(function(){var zen;zen=require("zen-coding"),module.exports=function(){return this.escapes=["___","___"],this.jdsl=require("json-dsl"),this.jdsl.parseKey=function(k){return zen(k+">{%s}")},this.jdsl.parseValue=function(v,data){var i,item,items,itemstr,len,result;if(result="",items=!1,v.match(/->/))for(items=data[v.split("->")[0]],console.dir(items),v=v.split("->")[1],i=0,len=items.length;len>i;i++)item=items[i],itemstr=v.replace(/(\{\{)(.*?)(\}\})/g,function($0,$1,$2){return $2=$2.length>1&&"."===$2[0]?this.applyFiltersAndEval($2,item,data):this.applyFiltersAndEval($2,item,data)}),v.match(/>/)&&(itemstr=zen(itemstr)),result+=itemstr;else result=v,result=result.replace(/(\{\{)(.*?)(\}\})/g,function($0,$1,$2){return $2=this.applyFiltersAndEval("."+$2,data,data)});return result=result.replace(/___/g,""),result=result.replace(/ </g,"<").replace(/> /g,">")},this.applyFiltersAndEval=function($2,item,data){var filters,is_array;return filters=this.getFilters($2).filters,$2=this.getFilters($2).str,is_array=!1,"."===$2?(is_array=!0,$2=item):($2="item"+$2,$2=String(eval($2)).replace(/undefined/,"")),$2=this.applyFilters($2,filters,data),is_array&&($2=this.escapes[0]+$2+escapes[1]),$2},this.getFilters=function(str){var filters;return filters=[],str.match(/|/)&&(filters=str.split("|"),str=filters.shift()),{str:str,filters:filters}},this.applyFilters=function(str,filters,data){var filter,i,len;if(filters.length)for(i=0,len=filters.length;len>i;i++)filter=filters[i],str=eval("data."+filter+'("'+str+'")');return str},this.parse=function(json,data){return this.jdsl.parse(json,data)},this}()}).call(this)},{"json-dsl":1,"zen-coding":2}]},{},[]);